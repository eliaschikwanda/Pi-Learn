{% extends 'examsolution/base.html' %}
{% load static %}
{% block title %}Pii Learn | My Progress{% endblock title %}

{% block content %}

<section class="" style="
margin-top:8rem;
margin-left:2.5rem;
margin-right:2.5rem;
margin-bottom:5rem;
background-color:white;
border-radius:2.5rem;
padding:2rem;
font-size:1.75rem;
display:block;
"
>

    <div>

        <h3>Biology Papers you have completed</h3>
        <a href="{% url 'examsolution:test_yourself' %}">Take Biology ~ 9700 multiple choice</a>
        <br>

        {% if bio_user_past_paper_taken_list %}

            <table>

                    <tr>
                        <th></th>
                        <th>Date Completed</th>
                        <th>Paper written</th>
                        <th>Raw Mark</th>
                        <th>Percentage</th>
                        <th>Grade</th>
                        <th></th>
                    
                    </tr>
                {% for mcq_taken in bio_user_past_paper_taken_list %}

                    <tr>
                        <td></td>
                        <td> {{mcq_taken.date_completed.date}} </td>
                        <td> {{mcq_taken.paper_written}} </td>
                        <td> {{mcq_taken.raw_mark}}/40</td>
                        <td> {{mcq_taken.percentage}}%</td>
                        <td> {% if mcq_taken.letter_grade %} {{mcq_taken.letter_grade}} {% else %}No Data{% endif %}</td>
                        <td><a href="{% url 'examsolution:full_revision_of_written_paper' mcq_taken.paper_written %}">Revise paper</a></td>
                        
                    </tr>
                    
                {% endfor %}
                    <tr>
                        <td><strong>Average</strong></td>
                        <td></td>
                        <td></td>
                        <td> {{bio_raw_average}}/40 </td>
                        <td> {{bio_perce_average}}% </td>
                    </tr>

            </table>

        {% else %}

            <p>You haven't completed <strong>Biology ~ 9700</strong> multiple choice past paper on this site</p>


        {% endif %}

    </div>

    <br>

    <div>
        <h3>Chemistry Papers you completed</h3>
        <a href="{% url 'examsolution:test_yourself' %}">Take Chemistry ~ 9701 multiple choice</a>
        <br>

        {% if chem_user_past_paper_taken_list %}

            <table>

                    <tr>
                        <th></th>
                        <th>Date Completed</th>
                        <th>Paper written</th>
                        <th>Raw Mark</th>
                        <th>Percentage</th>
                        <th>Grade</th>
                        <th></th>
                    
                    </tr>

                {% for mcq_taken in chem_user_past_paper_taken_list %}

                    <tr>
                        <td></td>
                        <td> {{mcq_taken.date_completed.date}} </td>
                        <td> {{mcq_taken.paper_written}} </td>
                        <td> {{mcq_taken.raw_mark}}/40</td>
                        <td> {{mcq_taken.percentage}}%</td>
                        <td> {% if mcq_taken.letter_grade %} {{mcq_taken.letter_grade}} {% else %}No Data{% endif %}</td>
                        <td><a href="{% url 'examsolution:full_revision_of_written_paper' mcq_taken.paper_written %}">Revise paper</a></td>
                        
                    </tr>
                    
                {% endfor %}
                    <tr>
                        <td><strong>Average</strong></td>
                        <td></td>
                        <td></td>
                        <td> {{chem_raw_average}}/40 </td>
                        <td> {{chem_perce_average}}% </td>
                    </tr>

            </table>

        {% else %}

            <p>You haven't completed <strong>Chemistry ~ 9701</strong> multiple choice past paper on this site</p>


        {% endif %}

    </div>

    <br>

    <div>

        <h3>Physics Papers you completed</h3>
        <a href="{% url 'examsolution:test_yourself' %}">Take Physics ~ 9702 multiple choice</a>
        <br>

        {% if phy_user_past_paper_taken_list %}

            <table>

                    <tr>
                        <th></th>
                        <th>Date Completed</th>
                        <th>Paper written</th>
                        <th>Raw Mark</th>
                        <th>Percentage</th>
                        <th>Grade</th>
                        <th></th>
                    
                    </tr>

                {% for mcq_taken in phy_user_past_paper_taken_list %}

                    <tr>
                        <td></td>
                        <td> {{mcq_taken.date_completed.date}} </td>
                        <td> {{mcq_taken.paper_written}} </td>
                        <td> {{mcq_taken.raw_mark}}/40</td>
                        <td> {{mcq_taken.percentage}}%</td>
                        <td> {% if mcq_taken.letter_grade %} {{mcq_taken.letter_grade}} {% else %}No Data{% endif %}</td>
                        <td><a href="{% url 'examsolution:full_revision_of_written_paper' mcq_taken.paper_written %}">Revise paper</a></td>

                    </tr>
                    
                {% endfor %}
                    <tr>
                        <td><strong>Average</strong></td>
                        <td></td>
                        <td></td>
                        <td> {{phsy_raw_average}}/40 </td>
                        <td> {{phys_perce_average}}% </td>
                    </tr>

            </table>

        {% else %}

            <p>You haven't completed <strong>Physics ~ 9702</strong> multiple choice past paper on this site</p>


        {% endif %}

    </div>

</section>

{% endblock content %}